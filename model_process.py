import os
import joblib
import constants


def save_model(model, model_save_path):
    joblib.dump(model, model_save_path)


def load_model(model_save_path):
    loaded_model = joblib.load(model_save_path)
    return loaded_model


def save_rf_model(rf_model, n_estimators, max_depth, max_features):
    model_save_path = get_rf_model_path(n_estimators, max_depth, max_features)
    save_model(rf_model, model_save_path)


def get_rf_model_path(n_estimators, max_depth=0, max_features=0):
    model_save_name = get_rf_model_name(n_estimators, max_depth, max_features)
    model_save_path = os.path.join(constants.MODEL_SAVE_PATH,
                                   model_save_name).replace("\\", "/")
    return model_save_path


def get_rf_model_name(n_estimators, max_depth=0, max_features=0):
    model_save_name = 'rf_' + str(n_estimators) + '_' + str(
        max_depth) + '_' + str(max_features) + '.joblib'
    return model_save_name
