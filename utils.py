import os
import time


def is_folder_exists(dir):
    return os.path.exists(dir)


def create_folder(dir):
    os.makedirs(dir)


def get_time_string():
    time_struct = time.localtime(time.time())
    time_string = time.asctime(time_struct)
    time_string_without_space_and_colon = time_string.replace(
        ':', '').replace(' ', '')
    return time_string_without_space_and_colon


def save_img(img, ist, id):
    if not is_folder_exists(ist.dir):
        create_folder(ist.dir)
    img_save_path = generate_img_path(ist, id)
    img.save(img_save_path)


def load_file(path):
    file = open(path, 'rb')
    return file


def generate_file_path(dst, id):
    return os.path.join(dst.dir, id + dst.suffix).replace("\\", "/")


def get_file_length(path):
    return os.path.getsize(path)


def generate_img_path(ist, id):
    return os.path.join(ist.dir, id + '_' + ist.title + ist.suffix).replace("\\", "/")
